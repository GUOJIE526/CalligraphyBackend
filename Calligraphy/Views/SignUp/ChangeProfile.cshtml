@using Calligraphy.ViewModel
@model ChangeProfileViewModel
@{
    ViewData["Title"] = "變更基本資料";
}
@section Styles {
    <link href="~/assets/css/styles.min.css" rel="stylesheet" />
    <style>
        form{
           padding: 3rem;
        }

        .form-title{
            font-weight: bold;
        }
        /* From Uiverse.io by Samiix10 */
        .height {
            display: flex;
            flex-direction: column;
        }

        .height label {
            font-size: 18px;
            margin-left: 20px;
        }

        .height .input {
            border: none;
            outline: none;
            border-radius: 100px;
            padding: 1.2em;
            background-color: #e1e2e3;
            box-shadow: inset 2px 5px 10px rgba(0, 0, 0, 0.3);
            transition: 300ms ease-in-out;
            position: relative;
            margin-top: 10px;
        }

        .height .input:focus {
            background-color: #ffffff;
            transform: scale(1.05);
            box-shadow: 13px 13px 100px #969696, -13px -13px 100px #ffffff;
        }

        /* From Uiverse.io by arthur_6104 */
        .box-button {
            cursor: pointer;
            border: 4px solid black;
            background-color: gray;
            padding-bottom: 10px;
            transition: 0.1s ease-in-out;
            user-select: none;
            width: 4.5rem;
        }

        .button {
            background-color: #dddddd;
            border: 4px solid #fff;
            padding: 3px 8px;
        }

        .button span {
            font-size: 1.2em;
            letter-spacing: 1px;
        }

        .box-button:active {
            padding: 0;
            margin-bottom: 10px;
            transform: translateY(10px);
        }

    </style>
}

<body>
    <form asp-action="ChangeProfile" method="post">
        @Html.AntiForgeryToken()
        <p class="form-title">變更基本資料</p>
        <div class="input-container">
            <!-- From Uiverse.io by Samiix10 -->
            <div class="height">
                <label asp-for="Name">使用者名稱</label>
                <input type="text" asp-for="Name" class="input" value="@Model.Name" />
            </div>
        </div>
        <div class="form-group mt-3">
            <!-- From Uiverse.io by Samiix10 -->
            <div class="height">
                <label asp-for="Password">新密碼</label>
                <input type="password" asp-for="Password" class="input" />
            </div>
        </div>
        <div class="form-group mt-3">
            <!-- From Uiverse.io by Samiix10 -->
            <div class="height">
                <label asp-for="ConfirmPassword">確認密碼</label>
                <input type="password" asp-for="ConfirmPassword" class="input" />
            </div>
        </div>
        <div class="eyes mt-3">
            <svg class="eye" width="20px" height="20px" data-name="Layer 1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.94,6.08A6.93,6.93,0,0,1,12,6c3.18,0,6.17,2.29,7.91,6a15.23,15.23,0,0,1-.9,1.64,1,1,0,0,0-.16.55,1,1,0,0,0,1.86.5,15.77,15.77,0,0,0,1.21-2.3,1,1,0,0,0,0-.79C19.9,6.91,16.1,4,12,4a7.77,7.77,0,0,0-1.4.12,1,1,0,1,0,.34,2ZM3.71,2.29A1,1,0,0,0,2.29,3.71L5.39,6.8a14.62,14.62,0,0,0-3.31,4.8,1,1,0,0,0,0,.8C4.1,17.09,7.9,20,12,20a9.26,9.26,0,0,0,5.05-1.54l3.24,3.25a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Zm6.36,9.19,2.45,2.45A1.81,1.81,0,0,1,12,14a2,2,0,0,1-2-2A1.81,1.81,0,0,1,10.07,11.48ZM12,18c-3.18,0-6.17-2.29-7.9-6A12.09,12.09,0,0,1,6.8,8.21L8.57,10A4,4,0,0,0,14,15.43L15.59,17A7.24,7.24,0,0,1,12,18Z" fill="#6563ff" />
            </svg>
            <svg class="eye" style="display: none" width="20px" height="20px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.92,11.6C19.9,6.91,16.1,4,12,4S4.1,6.91,2.08,11.6a1,1,0,0,0,0,.8C4.1,17.09,7.9,20,12,20s7.9-2.91,9.92-7.6A1,1,0,0,0,21.92,11.6ZM12,18c-3.17,0-6.17-2.29-7.9-6C5.83,8.29,8.83,6,12,6s6.17,2.29,7.9,6C18.17,15.71,15.17,18,12,18ZM12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z" fill="#6563ff" />
            </svg>
        </div>
        <span>
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        </span>
        <!-- From Uiverse.io by arthur_6104 -->
        <div class="box-button mt-3">
            <button type="submit" class="button"><span>儲存</span></button>
        </div>
    </form>
</body>
@section Scripts {
    @if (TempData["ChangeProfileSuccess"] != null && (bool)TempData["ChangeProfileSuccess"])
    {
        <script type="text/javascript">
            Swal.fire({
                title: '成功',
                text: '基本資料已更新！',
                icon: 'success',
                confirmButtonText: '確定'
                });
        </script>
    }
    <script type="text/javascript">
        //點眼睛改變password屬性
        const password = document.querySelector("#Password");
        const confirmPassword = document.querySelector("#ConfirmPassword");
        const eye = document.querySelectorAll(".eye");
        function ChangeEye(){
            if (password.type === "password") {
                password.type = "text";
                confirmPassword.type = "text";
                eye[0].style.display = "none";
                eye[1].style.display = "block";
            } else {
                password.type = "password";
                confirmPassword.type = "password";
                eye[0].style.display = "block";
                eye[1].style.display = "none";
            }
        }
        eye[0].addEventListener("click", function () {
            ChangeEye();
        });
        eye[1].addEventListener("click", function () {
            ChangeEye();
        });
    </script>
}